{
    "version": 3,
    "file": "JSONSchemaEditor.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/JSONSchemaEditor.tsx"
    ],
    "names": [],
    "mappings": ";;;;AAAA,6DAA0B;AAC1B,+BAAmE;AACnE,4FAAoE;AACpE,6CAA4C;AAyE5C;IAAqD,wDAA0C;IAA/F;QAAA,qEAsDC;QAjDC,cAAc;QACd,cAAQ,GAAQ;YACd,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,YAAY;oBAClB,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;iBAChD;gBAED;oBACE,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,wBAAwB,CAAC;iBACtD;aACF;SACF,CAAC;;IAkCJ,CAAC;IA/BC,kDAAgB,GAAhB,UAAiB,EAAsB;YAArB,KAAK,WAAA,EAAE,QAAQ,cAAA;QACzB,IAAA,KAA6B,IAAI,CAAC,KAAK,EAAtC,MAAM,YAAA,EAAE,gBAAgB,sBAAc,CAAC;QAC9C,OAAO,MAAM,CACX,OAAO,EACP;YACE,IAAI,EAAE,MAAM;YACZ,aAAa,EAAE,KAAK;YACpB,IAAI,4DACC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,SACpD,CAAC,CAAA,gBAAgB,aAAhB,gBAAgB,uBAAhB,gBAAgB,CAAG,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC,KAAI,EAAE,CAAC,OAC3C;SACF,EACD;YACE,IAAI,EAAE,KAAK;YACX,QAAQ,EAAE,UAAC,KAAU,IAAK,OAAA,QAAQ,CAAC,KAAK,CAAC,EAAf,CAAe;SAC1C,CACF,CAAC;IACJ,CAAC;IAED,wCAAM,GAAN;QACE,IAAM,KAAmC,IAAI,CAAC,KAAK,EAA5C,qBAAqB,2BAAA,EAAK,IAAI,2BAA/B,yBAAgC,CAAa,CAAC;QAEpD,OAAO,CACL,8BAAC,eAAgB,4BACX,IAAI,IACR,gBAAgB,EACd,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,SAAS,IAE3D,CACH,CAAC;IACJ,CAAC;IApDM,oCAAY,GAAG;QACpB,qBAAqB,EAAE,KAAK;KAC7B,CAAC;IAoBF;QADC,iBAAQ;;;;mEAkBR;IAcH,8BAAC;CAAA,AAtDD,CAAqD,eAAK,CAAC,aAAa,GAsDvE;kBAtDoB,uBAAuB;AA2D5C;IAA8C,yDAAuB;IAArE;;IAAuE,CAAC;IAA3D,wBAAwB;QAHpC,IAAA,eAAQ,EAAC;YACR,IAAI,EAAE,oBAAoB;SAC3B,CAAC;OACW,wBAAwB,CAAmC;IAAD,+BAAC;CAAA,AAAxE,CAA8C,uBAAuB,GAAG;AAA3D,4DAAwB",
    "sourcesContent": [
        "import React from 'react';\nimport {FormItem, FormControlProps, FormBaseControl} from './Item';\nimport JSONSchemaEditor from '../../components/schema-editor/index';\nimport {autobind} from '../../utils/helper';\n\n/**\n * JSON Schema Editor\n * 文档：https://baidu.gitee.io/amis/docs/components/form/json-schema-editor\n */\nexport interface JSONSchemaEditorControlSchema extends FormBaseControl {\n  /**\n   * 指定为 JSON Schema Editor\n   */\n  type: 'json-schema-editor';\n\n  /**\n   * 可以理解为类型模板，方便快速定义复杂类型\n   */\n  definitions?: {\n    [propName: string]: {\n      title: string;\n      type:\n        | 'string'\n        | 'number'\n        | 'interger'\n        | 'object'\n        | 'array'\n        | 'boolean'\n        | 'null';\n      [propName: string]: any;\n    };\n  };\n\n  /**\n   * 顶层是否允许修改类型\n   */\n  rootTypeMutable?: boolean;\n\n  /**\n   * 顶层类型信息是否隐藏\n   */\n  showRootInfo?: boolean;\n\n  /**\n   * 禁用类型，默认禁用了 null 类型\n   */\n  disabledTypes?: Array<string>;\n\n  /**\n   * 开启详情配置\n   */\n  enableAdvancedSetting?: boolean;\n\n  /**\n   * 自定义详情配置面板如：\n   *\n   * {\n   *   boolean: [\n   *      {type: \"input-text\", name: \"aa\", label: \"AA\" }\n   *   ]\n   * }\n   *\n   * 当配置布尔字段详情时，就会出现以上配置\n   */\n  advancedSettings?: {\n    [propName: string]: any;\n  };\n}\n\nexport interface JSONSchemaEditorProps\n  extends FormControlProps,\n    Omit<\n      JSONSchemaEditorControlSchema,\n      'type' | 'className' | 'descriptionClassName' | 'inputClassName'\n    > {}\n\nexport default class JSONSchemaEditorControl extends React.PureComponent<JSONSchemaEditorProps> {\n  static defaultProps = {\n    enableAdvancedSetting: false\n  };\n\n  // todo 完善这块配置\n  settings: any = {\n    common: [\n      {\n        type: 'input-text',\n        name: 'title',\n        label: this.props.translate('JSONSchema.title')\n      },\n\n      {\n        type: 'textarea',\n        name: 'description',\n        label: this.props.translate('JSONSchema.description')\n      }\n    ]\n  };\n\n  @autobind\n  renderModalProps({value, onChange}: any) {\n    const {render, advancedSettings} = this.props;\n    return render(\n      `modal`,\n      {\n        type: 'form',\n        wrapWithPanel: false,\n        body: [\n          ...(this.settings[value?.type] || this.settings.common),\n          ...(advancedSettings?.[value?.type] || [])\n        ]\n      },\n      {\n        data: value,\n        onChange: (value: any) => onChange(value)\n      }\n    );\n  }\n\n  render() {\n    const {enableAdvancedSetting, ...rest} = this.props;\n\n    return (\n      <JSONSchemaEditor\n        {...rest}\n        renderModalProps={\n          enableAdvancedSetting ? this.renderModalProps : undefined\n        }\n      />\n    );\n  }\n}\n\n@FormItem({\n  type: 'json-schema-editor'\n})\nexport class JSONSchemaEditorRenderer extends JSONSchemaEditorControl {}\n"
    ]
}